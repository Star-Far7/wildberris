(()=>{"use strict";var __webpack_modules__={417:()=>{eval('\n;// CONCATENATED MODULE: ./src/modules/search.js\nconst search = function () {\r\n  const input = document.querySelector(".search-block > input"); // input сторики поиска\r\n  const searchBtn = document.querySelector(".search-block > button"); // Кнопка сторки поиска\r\n\r\n  // Отрисовываем карточки\r\n  const renderGoods = (goods) => {\r\n    const goodsContainer = document.querySelector(".long-goods-list"); //Контейнер для карточек\r\n\r\n    goodsContainer.innerHTML = ""; // Стираем содержимое контейнера\r\n\r\n    // Макет карточки\r\n    goods.forEach((good) => {\r\n      const goodBlock = document.createElement("div"); // Блок карточки\r\n\r\n      // Добовляем классы\r\n      goodBlock.classList.add("col-lg-3");\r\n      goodBlock.classList.add("col-sm-6");\r\n\r\n      // Содержимое карточки\r\n      goodBlock.innerHTML = `\r\n\t\t\t\t\t\t<div class="goods-card">\r\n              <span class="label ${good.label ? null : "d-none"}">${\r\n        good.label\r\n      }</span>\r\n\t\t\t\t\t\t\t<img src="db/${good.img}" alt="image: ${good.name}" class="goods-image">\r\n              <h3 class="goods-title">${good.name}</h3>\r\n              <p class="goods-description">${good.description}</p>\r\n              <button class="button goods-card-btn add-to-cart" data-id="${\r\n                good.id\r\n              }">\r\n                <span class="button-price">$${good.price}</span>\r\n              </button>\r\n            </div>\r\n\t\t\t`;\r\n\r\n      goodsContainer.append(goodBlock);\r\n    });\r\n  };\r\n\r\n  // Обработчик данных с сервера\r\n  const getData = function (value) {\r\n    fetch("/db/db.json")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Фильтр данных\r\n        const aray = data.filter((good) =>\r\n          good.name.toLowerCase().includes(value.toLowerCase())\r\n        );\r\n\r\n        // Воозвращаем базу\r\n        localStorage.setItem("goods", JSON.stringify(aray));\r\n\r\n        if (window.location.pathname !== "/goods.html") {\r\n          window.location.href = "/goods.html";\r\n        } else {\r\n          renderGoods(aray);\r\n        }\r\n      });\r\n  };\r\n\r\n  // Отправляем значение строки поиска\r\n  searchBtn.onclick = () => getData(input.value);\r\n};\r\n\n;// CONCATENATED MODULE: ./src/modules/cart.js\nconst cart = function () {\r\n  const cartBtn = document.querySelector(".button-cart"); // Кнопка для активации модального окна\r\n  const cart = document.getElementById("modal-cart"); // Модальное окно\r\n  const closebtn = cart.querySelector(".modal-close"); // Кнопака закрытия модального окна\r\n  const goodsContainer = document.querySelector(".long-goods-list"); // Окно с товаром\r\n  const cartTable = document.querySelector(".cart-table__goods"); // Окно корзины\r\n  const modalform = document.querySelector(".modal-form"); // Форма в модальном окне\r\n  const totalPriceEl = document.querySelector(".card-table__total"); // Сумма все корзины\r\n\r\n  const formInputName = document.querySelector(\'[name="nameCustomer"]\'); // input имени из модальной формы\r\n  const formInputPhone = document.querySelector("[name=\'phoneCustomer\']"); // input телефона из модальной формы\r\n\r\n  // функция удвления товара из корзины\r\n  const deleteCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem("cart"));\r\n\r\n    const newCart = cart.filter((good) => {\r\n      return good.id !== id;\r\n    });\r\n\r\n    localStorage.setItem("cart", JSON.stringify(newCart));\r\n    renderCartGoods(JSON.parse(localStorage.getItem("cart")));\r\n  };\r\n\r\n  // Функция увеличения колличества товара в корзине\r\n  const plusCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem("cart"));\r\n\r\n    const newCart = cart.map((good) => {\r\n      if (good.id === id) {\r\n        good.count++;\r\n      }\r\n      return good;\r\n    });\r\n\r\n    localStorage.setItem("cart", JSON.stringify(newCart));\r\n    renderCartGoods(JSON.parse(localStorage.getItem("cart")));\r\n  };\r\n\r\n  // Функция уменьшения колличества товара в корзине\r\n  const minusCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem("cart"));\r\n\r\n    const newCart = cart.map((good) => {\r\n      if (good.id === id) {\r\n        if (good.count > 0) {\r\n          good.count--;\r\n        }\r\n      }\r\n      return good;\r\n    });\r\n\r\n    localStorage.setItem("cart", JSON.stringify(newCart));\r\n    renderCartGoods(JSON.parse(localStorage.getItem("cart")));\r\n  };\r\n\r\n  // Сохранения товара в localStorage\r\n  const addToCart = (id) => {\r\n    const goods = JSON.parse(localStorage.getItem("goods")); // База с товарами\r\n    const clickedGood = goods.find((good) => good.id === id); // id товара\r\n    // localStorage корзины\r\n    const cart = localStorage.getItem("cart")\r\n      ? JSON.parse(localStorage.getItem("cart"))\r\n      : [];\r\n\r\n    // Увеличеть количество товара или добавления его в корзину\r\n    if (cart.some((good) => good.id === clickedGood.id)) {\r\n      cart.map((good) => {\r\n        if (good.id === clickedGood.id) {\r\n          good.count++;\r\n        }\r\n        return good;\r\n      });\r\n    } else {\r\n      clickedGood.count = 1;\r\n      cart.push(clickedGood);\r\n    }\r\n\r\n    // Готовая база товара в корзине\r\n    localStorage.setItem("cart", JSON.stringify(cart));\r\n  };\r\n\r\n  // Отрисовка товара в корзине\r\n  const renderCartGoods = (goods) => {\r\n    cartTable.innerHTML = ``;\r\n\r\n    goods.forEach((good) => {\r\n      const tr = document.createElement("tr");\r\n      tr.innerHTML = `\r\n\t\t\t\t\t\t<td>${good.name}</td>\r\n\t\t\t\t\t\t<td>${good.price}$</td>\r\n\t\t\t\t\t\t<td><button class="cart-btn-minus"">-</button></td>\r\n\t\t\t\t\t\t<td>${good.count}</td>\r\n\t\t\t\t\t\t<td><button class=" cart-btn-plus"">+</button></td>\r\n\t\t\t\t\t\t<td data-totalPrice="">${+good.price * +good.count}$</td>\r\n\t\t\t\t\t\t<td><button class="cart-btn-delete"">x</button></td>\r\n\t\t\t`;\r\n      cartTable.append(tr);\r\n\r\n      // Оживляем кнопки корзины\r\n      tr.addEventListener("click", (event) => {\r\n        if (event.target.classList.contains("cart-btn-minus")) {\r\n          minusCartItem(good.id);\r\n        } else if (event.target.classList.contains("cart-btn-plus")) {\r\n          plusCartItem(good.id);\r\n        } else if (event.target.classList.contains("cart-btn-delete")) {\r\n          deleteCartItem(good.id);\r\n        }\r\n      });\r\n    });\r\n    // Функция посчета суммы корзины\r\n    let totalPrice = 0;\r\n    goods.forEach((item) => {\r\n      const priceEl = item.price * item.count;\r\n      console.log(priceEl);\r\n      totalPrice += priceEl;\r\n      console.log(totalPrice);\r\n    });\r\n    totalPriceEl.innerText = totalPrice + "$";\r\n  };\r\n\r\n  const sandForm = (nameInput, phoneInput) => {\r\n    const cartArray = localStorage.getItem("cart")\r\n      ? JSON.parse(localStorage.getItem("cart"))\r\n      : [];\r\n\r\n    fetch("https://jsonplaceholder.typicode.com/posts", {\r\n      method: "POST",\r\n      body: JSON.stringify({\r\n        cart: cartArray,\r\n        name: nameInput,\r\n        phone: phoneInput,\r\n      }),\r\n    }).then(() => {\r\n      formInputName.value = "";\r\n      formInputPhone.value = "";\r\n      localStorage.removeItem("cart");\r\n      cart.style.display = "";\r\n    });\r\n  };\r\n\r\n  modalform.addEventListener("submit", (e) => {\r\n    e.preventDefault();\r\n\r\n    const nameInput = formInputName.value;\r\n    const phoneInput = formInputPhone.value;\r\n\r\n    sandForm(nameInput, phoneInput);\r\n  });\r\n\r\n  // Функция вызова модального окна\r\n  cartBtn.addEventListener("click", () => {\r\n    const cartArray = localStorage.getItem("cart")\r\n      ? JSON.parse(localStorage.getItem("cart"))\r\n      : [];\r\n\r\n    renderCartGoods(cartArray);\r\n\r\n    cart.style.display = "flex";\r\n  });\r\n\r\n  // Функция закрытия модальног окна\r\n  closebtn.addEventListener("click", () => {\r\n    cart.style.display = "";\r\n  });\r\n\r\n  // Функция закрытия окна по нажатию вне его\r\n  cart.addEventListener("click", (e) => {\r\n    if (!e.target.closest(".modal") && e.target.classList.contains("overlay")) {\r\n      cart.style.display = "";\r\n    }\r\n  });\r\n\r\n  // Функция закрытия окна при нажатии на Escape\r\n  window.addEventListener("keydown", (e) => {\r\n    if (e.key === "Escape") {\r\n      cart.style.display = "";\r\n    }\r\n  });\r\n\r\n  // Функция добавления товара в корзину при нажатии на кнопку с ценой\r\n  if (goodsContainer) {\r\n    goodsContainer.addEventListener("click", (event) => {\r\n      if (event.target.closest(".add-to-cart")) {\r\n        const buttonToCart = event.target.closest(".add-to-cart");\r\n        const goodId = buttonToCart.dataset.id;\r\n\r\n        addToCart(goodId);\r\n      }\r\n    });\r\n  }\r\n};\r\n\n;// CONCATENATED MODULE: ./src/modules/geetGoods.js\nconst getGoods = function () {\r\n  const links = document.querySelectorAll(".navigation-link"); // Ссылки нав. меню\r\n  const viewMore = document.querySelector(".more"); // кнопка больше\r\n\r\n  // Отрисовываем карточки\r\n  const renderGoods = (goods) => {\r\n    const goodsContainer = document.querySelector(".long-goods-list"); //Контейнер для карточек\r\n\r\n    goodsContainer.innerHTML = ""; // Стираем содержимое контейнера\r\n\r\n    // Макет карточки\r\n    goods.forEach((good) => {\r\n      const goodBlock = document.createElement("div"); // Блок карточки\r\n\r\n      // Добовляем классы\r\n      goodBlock.classList.add("col-lg-3");\r\n      goodBlock.classList.add("col-sm-6");\r\n\r\n      // Содержимое карточки\r\n      goodBlock.innerHTML = `\r\n\t\t\t\t\t\t<div class="goods-card">\r\n              <span class="label ${good.label ? null : "d-none"}">${\r\n        good.label\r\n      }</span>\r\n\t\t\t\t\t\t\t<img src="db/${good.img}" alt="image: ${good.name}" class="goods-image">\r\n              <h3 class="goods-title">${good.name}</h3>\r\n              <p class="goods-description">${good.description}</p>\r\n              <button class="button goods-card-btn add-to-cart" data-id="${\r\n                good.id\r\n              }">\r\n                <span class="button-price">$${good.price}</span>\r\n              </button>\r\n            </div>\r\n\t\t\t`;\r\n\r\n      goodsContainer.append(goodBlock);\r\n    });\r\n  };\r\n\r\n  // Обработчик данных с сервера\r\n  const getData = function (value, category) {\r\n    fetch("/db/db.json")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Фильтр данных\r\n        const aray = category\r\n          ? data.filter((item) => item[category] === value)\r\n          : data;\r\n\r\n        // Воозвращаем базу\r\n        localStorage.setItem("goods", JSON.stringify(aray));\r\n\r\n        if (window.location.pathname !== "/goods.html") {\r\n          window.location.href = "/goods.html";\r\n        } else {\r\n          renderGoods(aray);\r\n        }\r\n      });\r\n  };\r\n\r\n  // Cохранем базу в LocalStorage\r\n  links.forEach(function (item) {\r\n    item.addEventListener("click", function (event) {\r\n      event.preventDefault;\r\n      const linkValue = item.textContent;\r\n      const category = item.dataset.field;\r\n\r\n      getData(linkValue, category);\r\n    });\r\n  });\r\n\r\n  // Проверяем наличие данных\r\n  if (\r\n    localStorage.getItem("goods") &&\r\n    window.location.pathname === "/goods.html"\r\n  ) {\r\n    renderGoods(JSON.parse(localStorage.getItem("goods")));\r\n  }\r\n\r\n  // Функция кнопки больше\r\n  if (viewMore) {\r\n    viewMore.addEventListener("click", function (event) {\r\n      event.preventDefault;\r\n\r\n      getData();\r\n    });\r\n  }\r\n};\r\n\n;// CONCATENATED MODULE: ./src/goods.js\n\r\n\r\n\r\n\r\nsearch();\r\ncart();\r\ngetGoods();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDZCQUE2QjtBQUNoRTtBQUNBLE9BQU87QUFDUCxzQkFBc0IsU0FBUyxnQkFBZ0IsVUFBVTtBQUN6RCx3Q0FBd0MsVUFBVTtBQUNsRCw2Q0FBNkMsaUJBQWlCO0FBQzlEO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsOENBQThDLFdBQVc7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOzs7QUN2RjBDO0FBQ0o7QUFDUztBQUMvQztBQUNBLE1BQU07QUFDTixJQUFJO0FBQ0osUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL3dpbGRiZXJyaXMvLi9zcmMvbW9kdWxlcy9zZWFyY2guanM/ZTA3NSIsIndlYnBhY2s6Ly93aWxkYmVycmlzLy4vc3JjL21vZHVsZXMvY2FydC5qcz9hYzBlIiwid2VicGFjazovL3dpbGRiZXJyaXMvLi9zcmMvbW9kdWxlcy9nZWV0R29vZHMuanM/NzViNSIsIndlYnBhY2s6Ly93aWxkYmVycmlzLy4vc3JjL2dvb2RzLmpzPzdiZGEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWJsb2NrID4gaW5wdXRcIik7IC8vIGlucHV0INGB0YLQvtGA0LjQutC4INC/0L7QuNGB0LrQsFxyXG4gIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWJsb2NrID4gYnV0dG9uXCIpOyAvLyDQmtC90L7Qv9C60LAg0YHRgtC+0YDQutC4INC/0L7QuNGB0LrQsFxyXG5cclxuICAvLyDQntGC0YDQuNGB0L7QstGL0LLQsNC10Lwg0LrQsNGA0YLQvtGH0LrQuFxyXG4gIGNvbnN0IHJlbmRlckdvb2RzID0gKGdvb2RzKSA9PiB7XHJcbiAgICBjb25zdCBnb29kc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9uZy1nb29kcy1saXN0XCIpOyAvL9Ca0L7QvdGC0LXQudC90LXRgCDQtNC70Y8g0LrQsNGA0YLQvtGH0LXQulxyXG5cclxuICAgIGdvb2RzQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7IC8vINCh0YLQuNGA0LDQtdC8INGB0L7QtNC10YDQttC40LzQvtC1INC60L7QvdGC0LXQudC90LXRgNCwXHJcblxyXG4gICAgLy8g0JzQsNC60LXRgiDQutCw0YDRgtC+0YfQutC4XHJcbiAgICBnb29kcy5mb3JFYWNoKChnb29kKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdvb2RCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7IC8vINCR0LvQvtC6INC60LDRgNGC0L7Rh9C60LhcclxuXHJcbiAgICAgIC8vINCU0L7QsdC+0LLQu9GP0LXQvCDQutC70LDRgdGB0YtcclxuICAgICAgZ29vZEJsb2NrLmNsYXNzTGlzdC5hZGQoXCJjb2wtbGctM1wiKTtcclxuICAgICAgZ29vZEJsb2NrLmNsYXNzTGlzdC5hZGQoXCJjb2wtc20tNlwiKTtcclxuXHJcbiAgICAgIC8vINCh0L7QtNC10YDQttC40LzQvtC1INC60LDRgNGC0L7Rh9C60LhcclxuICAgICAgZ29vZEJsb2NrLmlubmVySFRNTCA9IGBcclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImdvb2RzLWNhcmRcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsICR7Z29vZC5sYWJlbCA/IG51bGwgOiBcImQtbm9uZVwifVwiPiR7XHJcbiAgICAgICAgZ29vZC5sYWJlbFxyXG4gICAgICB9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiZGIvJHtnb29kLmltZ31cIiBhbHQ9XCJpbWFnZTogJHtnb29kLm5hbWV9XCIgY2xhc3M9XCJnb29kcy1pbWFnZVwiPlxyXG4gICAgICAgICAgICAgIDxoMyBjbGFzcz1cImdvb2RzLXRpdGxlXCI+JHtnb29kLm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgICA8cCBjbGFzcz1cImdvb2RzLWRlc2NyaXB0aW9uXCI+JHtnb29kLmRlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGdvb2RzLWNhcmQtYnRuIGFkZC10by1jYXJ0XCIgZGF0YS1pZD1cIiR7XHJcbiAgICAgICAgICAgICAgICBnb29kLmlkXHJcbiAgICAgICAgICAgICAgfVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidXR0b24tcHJpY2VcIj4kJHtnb29kLnByaWNlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblx0XHRcdGA7XHJcblxyXG4gICAgICBnb29kc0NvbnRhaW5lci5hcHBlbmQoZ29vZEJsb2NrKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC00LDQvdC90YvRhSDRgSDRgdC10YDQstC10YDQsFxyXG4gIGNvbnN0IGdldERhdGEgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIGZldGNoKFwiL2RiL2RiLmpzb25cIilcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAvLyDQpNC40LvRjNGC0YAg0LTQsNC90L3Ri9GFXHJcbiAgICAgICAgY29uc3QgYXJheSA9IGRhdGEuZmlsdGVyKChnb29kKSA9PlxyXG4gICAgICAgICAgZ29vZC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModmFsdWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyDQktC+0L7Qt9Cy0YDQsNGJ0LDQtdC8INCx0LDQt9GDXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJnb29kc1wiLCBKU09OLnN0cmluZ2lmeShhcmF5KSk7XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09IFwiL2dvb2RzLmh0bWxcIikge1xyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9nb29kcy5odG1sXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlbmRlckdvb2RzKGFyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0J7RgtC/0YDQsNCy0LvRj9C10Lwg0LfQvdCw0YfQtdC90LjQtSDRgdGC0YDQvtC60Lgg0L/QvtC40YHQutCwXHJcbiAgc2VhcmNoQnRuLm9uY2xpY2sgPSAoKSA9PiBnZXREYXRhKGlucHV0LnZhbHVlKTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGNhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgY2FydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLWNhcnRcIik7IC8vINCa0L3QvtC/0LrQsCDQtNC70Y8g0LDQutGC0LjQstCw0YbQuNC4INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXHJcbiAgY29uc3QgY2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtY2FydFwiKTsgLy8g0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+XHJcbiAgY29uc3QgY2xvc2VidG4gPSBjYXJ0LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2VcIik7IC8vINCa0L3QvtC/0LDQutCwINC30LDQutGA0YvRgtC40Y8g0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuICBjb25zdCBnb29kc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9uZy1nb29kcy1saXN0XCIpOyAvLyDQntC60L3QviDRgSDRgtC+0LLQsNGA0L7QvFxyXG4gIGNvbnN0IGNhcnRUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydC10YWJsZV9fZ29vZHNcIik7IC8vINCe0LrQvdC+INC60L7RgNC30LjQvdGLXHJcbiAgY29uc3QgbW9kYWxmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1mb3JtXCIpOyAvLyDQpNC+0YDQvNCwINCyINC80L7QtNCw0LvRjNC90L7QvCDQvtC60L3QtVxyXG4gIGNvbnN0IHRvdGFsUHJpY2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC10YWJsZV9fdG90YWxcIik7IC8vINCh0YPQvNC80LAg0LLRgdC1INC60L7RgNC30LjQvdGLXHJcblxyXG4gIGNvbnN0IGZvcm1JbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIm5hbWVDdXN0b21lclwiXScpOyAvLyBpbnB1dCDQuNC80LXQvdC4INC40Lcg0LzQvtC00LDQu9GM0L3QvtC5INGE0L7RgNC80YtcclxuICBjb25zdCBmb3JtSW5wdXRQaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ncGhvbmVDdXN0b21lciddXCIpOyAvLyBpbnB1dCDRgtC10LvQtdGE0L7QvdCwINC40Lcg0LzQvtC00LDQu9GM0L3QvtC5INGE0L7RgNC80YtcclxuXHJcbiAgLy8g0YTRg9C90LrRhtC40Y8g0YPQtNCy0LvQtdC90LjRjyDRgtC+0LLQsNGA0LAg0LjQtyDQutC+0YDQt9C40L3Ri1xyXG4gIGNvbnN0IGRlbGV0ZUNhcnRJdGVtID0gKGlkKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhcnRcIikpO1xyXG5cclxuICAgIGNvbnN0IG5ld0NhcnQgPSBjYXJ0LmZpbHRlcigoZ29vZCkgPT4ge1xyXG4gICAgICByZXR1cm4gZ29vZC5pZCAhPT0gaWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNhcnRcIiwgSlNPTi5zdHJpbmdpZnkobmV3Q2FydCkpO1xyXG4gICAgcmVuZGVyQ2FydEdvb2RzKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXJ0XCIpKSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0YPQstC10LvQuNGH0LXQvdC40Y8g0LrQvtC70LvQuNGH0LXRgdGC0LLQsCDRgtC+0LLQsNGA0LAg0LIg0LrQvtGA0LfQuNC90LVcclxuICBjb25zdCBwbHVzQ2FydEl0ZW0gPSAoaWQpID0+IHtcclxuICAgIGNvbnN0IGNhcnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FydFwiKSk7XHJcblxyXG4gICAgY29uc3QgbmV3Q2FydCA9IGNhcnQubWFwKChnb29kKSA9PiB7XHJcbiAgICAgIGlmIChnb29kLmlkID09PSBpZCkge1xyXG4gICAgICAgIGdvb2QuY291bnQrKztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZ29vZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FydFwiLCBKU09OLnN0cmluZ2lmeShuZXdDYXJ0KSk7XHJcbiAgICByZW5kZXJDYXJ0R29vZHMoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhcnRcIikpKTtcclxuICB9O1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDRg9C80LXQvdGM0YjQtdC90LjRjyDQutC+0LvQu9C40YfQtdGB0YLQstCwINGC0L7QstCw0YDQsCDQsiDQutC+0YDQt9C40L3QtVxyXG4gIGNvbnN0IG1pbnVzQ2FydEl0ZW0gPSAoaWQpID0+IHtcclxuICAgIGNvbnN0IGNhcnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FydFwiKSk7XHJcblxyXG4gICAgY29uc3QgbmV3Q2FydCA9IGNhcnQubWFwKChnb29kKSA9PiB7XHJcbiAgICAgIGlmIChnb29kLmlkID09PSBpZCkge1xyXG4gICAgICAgIGlmIChnb29kLmNvdW50ID4gMCkge1xyXG4gICAgICAgICAgZ29vZC5jb3VudC0tO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZ29vZDtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FydFwiLCBKU09OLnN0cmluZ2lmeShuZXdDYXJ0KSk7XHJcbiAgICByZW5kZXJDYXJ0R29vZHMoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhcnRcIikpKTtcclxuICB9O1xyXG5cclxuICAvLyDQodC+0YXRgNCw0L3QtdC90LjRjyDRgtC+0LLQsNGA0LAg0LIgbG9jYWxTdG9yYWdlXHJcbiAgY29uc3QgYWRkVG9DYXJ0ID0gKGlkKSA9PiB7XHJcbiAgICBjb25zdCBnb29kcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnb29kc1wiKSk7IC8vINCR0LDQt9CwINGBINGC0L7QstCw0YDQsNC80LhcclxuICAgIGNvbnN0IGNsaWNrZWRHb29kID0gZ29vZHMuZmluZCgoZ29vZCkgPT4gZ29vZC5pZCA9PT0gaWQpOyAvLyBpZCDRgtC+0LLQsNGA0LBcclxuICAgIC8vIGxvY2FsU3RvcmFnZSDQutC+0YDQt9C40L3Ri1xyXG4gICAgY29uc3QgY2FydCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FydFwiKVxyXG4gICAgICA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXJ0XCIpKVxyXG4gICAgICA6IFtdO1xyXG5cclxuICAgIC8vINCj0LLQtdC70LjRh9C10YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviDRgtC+0LLQsNGA0LAg0LjQu9C4INC00L7QsdCw0LLQu9C10L3QuNGPINC10LPQviDQsiDQutC+0YDQt9C40L3Rg1xyXG4gICAgaWYgKGNhcnQuc29tZSgoZ29vZCkgPT4gZ29vZC5pZCA9PT0gY2xpY2tlZEdvb2QuaWQpKSB7XHJcbiAgICAgIGNhcnQubWFwKChnb29kKSA9PiB7XHJcbiAgICAgICAgaWYgKGdvb2QuaWQgPT09IGNsaWNrZWRHb29kLmlkKSB7XHJcbiAgICAgICAgICBnb29kLmNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnb29kO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNsaWNrZWRHb29kLmNvdW50ID0gMTtcclxuICAgICAgY2FydC5wdXNoKGNsaWNrZWRHb29kKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQk9C+0YLQvtCy0LDRjyDQsdCw0LfQsCDRgtC+0LLQsNGA0LAg0LIg0LrQvtGA0LfQuNC90LVcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY2FydFwiLCBKU09OLnN0cmluZ2lmeShjYXJ0KSk7XHJcbiAgfTtcclxuXHJcbiAgLy8g0J7RgtGA0LjRgdC+0LLQutCwINGC0L7QstCw0YDQsCDQsiDQutC+0YDQt9C40L3QtVxyXG4gIGNvbnN0IHJlbmRlckNhcnRHb29kcyA9IChnb29kcykgPT4ge1xyXG4gICAgY2FydFRhYmxlLmlubmVySFRNTCA9IGBgO1xyXG5cclxuICAgIGdvb2RzLmZvckVhY2goKGdvb2QpID0+IHtcclxuICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcbiAgICAgIHRyLmlubmVySFRNTCA9IGBcclxuXHRcdFx0XHRcdFx0PHRkPiR7Z29vZC5uYW1lfTwvdGQ+XHJcblx0XHRcdFx0XHRcdDx0ZD4ke2dvb2QucHJpY2V9JDwvdGQ+XHJcblx0XHRcdFx0XHRcdDx0ZD48YnV0dG9uIGNsYXNzPVwiY2FydC1idG4tbWludXNcIlwiPi08L2J1dHRvbj48L3RkPlxyXG5cdFx0XHRcdFx0XHQ8dGQ+JHtnb29kLmNvdW50fTwvdGQ+XHJcblx0XHRcdFx0XHRcdDx0ZD48YnV0dG9uIGNsYXNzPVwiIGNhcnQtYnRuLXBsdXNcIlwiPis8L2J1dHRvbj48L3RkPlxyXG5cdFx0XHRcdFx0XHQ8dGQgZGF0YS10b3RhbFByaWNlPVwiXCI+JHsrZ29vZC5wcmljZSAqICtnb29kLmNvdW50fSQ8L3RkPlxyXG5cdFx0XHRcdFx0XHQ8dGQ+PGJ1dHRvbiBjbGFzcz1cImNhcnQtYnRuLWRlbGV0ZVwiXCI+eDwvYnV0dG9uPjwvdGQ+XHJcblx0XHRcdGA7XHJcbiAgICAgIGNhcnRUYWJsZS5hcHBlbmQodHIpO1xyXG5cclxuICAgICAgLy8g0J7QttC40LLQu9GP0LXQvCDQutC90L7Qv9C60Lgg0LrQvtGA0LfQuNC90YtcclxuICAgICAgdHIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FydC1idG4tbWludXNcIikpIHtcclxuICAgICAgICAgIG1pbnVzQ2FydEl0ZW0oZ29vZC5pZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FydC1idG4tcGx1c1wiKSkge1xyXG4gICAgICAgICAgcGx1c0NhcnRJdGVtKGdvb2QuaWQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcnQtYnRuLWRlbGV0ZVwiKSkge1xyXG4gICAgICAgICAgZGVsZXRlQ2FydEl0ZW0oZ29vZC5pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8g0KTRg9C90LrRhtC40Y8g0L/QvtGB0YfQtdGC0LAg0YHRg9C80LzRiyDQutC+0YDQt9C40L3Ri1xyXG4gICAgbGV0IHRvdGFsUHJpY2UgPSAwO1xyXG4gICAgZ29vZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBwcmljZUVsID0gaXRlbS5wcmljZSAqIGl0ZW0uY291bnQ7XHJcbiAgICAgIGNvbnNvbGUubG9nKHByaWNlRWwpO1xyXG4gICAgICB0b3RhbFByaWNlICs9IHByaWNlRWw7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRvdGFsUHJpY2UpO1xyXG4gICAgfSk7XHJcbiAgICB0b3RhbFByaWNlRWwuaW5uZXJUZXh0ID0gdG90YWxQcmljZSArIFwiJFwiO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNhbmRGb3JtID0gKG5hbWVJbnB1dCwgcGhvbmVJbnB1dCkgPT4ge1xyXG4gICAgY29uc3QgY2FydEFycmF5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXJ0XCIpXHJcbiAgICAgID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNhcnRcIikpXHJcbiAgICAgIDogW107XHJcblxyXG4gICAgZmV0Y2goXCJodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHNcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgY2FydDogY2FydEFycmF5LFxyXG4gICAgICAgIG5hbWU6IG5hbWVJbnB1dCxcclxuICAgICAgICBwaG9uZTogcGhvbmVJbnB1dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgZm9ybUlucHV0TmFtZS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgIGZvcm1JbnB1dFBob25lLnZhbHVlID0gXCJcIjtcclxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjYXJ0XCIpO1xyXG4gICAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgbW9kYWxmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjb25zdCBuYW1lSW5wdXQgPSBmb3JtSW5wdXROYW1lLnZhbHVlO1xyXG4gICAgY29uc3QgcGhvbmVJbnB1dCA9IGZvcm1JbnB1dFBob25lLnZhbHVlO1xyXG5cclxuICAgIHNhbmRGb3JtKG5hbWVJbnB1dCwgcGhvbmVJbnB1dCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINCy0YvQt9C+0LLQsCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gIGNhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGNvbnN0IGNhcnRBcnJheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY2FydFwiKVxyXG4gICAgICA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjYXJ0XCIpKVxyXG4gICAgICA6IFtdO1xyXG5cclxuICAgIHJlbmRlckNhcnRHb29kcyhjYXJ0QXJyYXkpO1xyXG5cclxuICAgIGNhcnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gIH0pO1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPINC80L7QtNCw0LvRjNC90L7QsyDQvtC60L3QsFxyXG4gIGNsb3NlYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gIH0pO1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwINC/0L4g0L3QsNC20LDRgtC40Y4g0LLQvdC1INC10LPQvlxyXG4gIGNhcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoXCIubW9kYWxcIikgJiYgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwib3ZlcmxheVwiKSkge1xyXG4gICAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLyDQpNGD0L3QutGG0LjRjyDQt9Cw0LrRgNGL0YLQuNGPINC+0LrQvdCwINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwIEVzY2FwZVxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIGNhcnQuc3R5bGUuZGlzcGxheSA9IFwiXCI7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vINCk0YPQvdC60YbQuNGPINC00L7QsdCw0LLQu9C10L3QuNGPINGC0L7QstCw0YDQsCDQsiDQutC+0YDQt9C40L3RgyDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDQutC90L7Qv9C60YMg0YEg0YbQtdC90L7QuVxyXG4gIGlmIChnb29kc0NvbnRhaW5lcikge1xyXG4gICAgZ29vZHNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIuYWRkLXRvLWNhcnRcIikpIHtcclxuICAgICAgICBjb25zdCBidXR0b25Ub0NhcnQgPSBldmVudC50YXJnZXQuY2xvc2VzdChcIi5hZGQtdG8tY2FydFwiKTtcclxuICAgICAgICBjb25zdCBnb29kSWQgPSBidXR0b25Ub0NhcnQuZGF0YXNldC5pZDtcclxuXHJcbiAgICAgICAgYWRkVG9DYXJ0KGdvb2RJZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IGdldEdvb2RzID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZpZ2F0aW9uLWxpbmtcIik7IC8vINCh0YHRi9C70LrQuCDQvdCw0LIuINC80LXQvdGOXHJcbiAgY29uc3Qgdmlld01vcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vcmVcIik7IC8vINC60L3QvtC/0LrQsCDQsdC+0LvRjNGI0LVcclxuXHJcbiAgLy8g0J7RgtGA0LjRgdC+0LLRi9Cy0LDQtdC8INC60LDRgNGC0L7Rh9C60LhcclxuICBjb25zdCByZW5kZXJHb29kcyA9IChnb29kcykgPT4ge1xyXG4gICAgY29uc3QgZ29vZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvbmctZ29vZHMtbGlzdFwiKTsgLy/QmtC+0L3RgtC10LnQvdC10YAg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcclxuXHJcbiAgICBnb29kc0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiOyAvLyDQodGC0LjRgNCw0LXQvCDRgdC+0LTQtdGA0LbQuNC80L7QtSDQutC+0L3RgtC10LnQvdC10YDQsFxyXG5cclxuICAgIC8vINCc0LDQutC10YIg0LrQsNGA0YLQvtGH0LrQuFxyXG4gICAgZ29vZHMuZm9yRWFjaCgoZ29vZCkgPT4ge1xyXG4gICAgICBjb25zdCBnb29kQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOyAvLyDQkdC70L7QuiDQutCw0YDRgtC+0YfQutC4XHJcblxyXG4gICAgICAvLyDQlNC+0LHQvtCy0LvRj9C10Lwg0LrQu9Cw0YHRgdGLXHJcbiAgICAgIGdvb2RCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29sLWxnLTNcIik7XHJcbiAgICAgIGdvb2RCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29sLXNtLTZcIik7XHJcblxyXG4gICAgICAvLyDQodC+0LTQtdGA0LbQuNC80L7QtSDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgIGdvb2RCbG9jay5pbm5lckhUTUwgPSBgXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJnb29kcy1jYXJkXCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbCAke2dvb2QubGFiZWwgPyBudWxsIDogXCJkLW5vbmVcIn1cIj4ke1xyXG4gICAgICAgIGdvb2QubGFiZWxcclxuICAgICAgfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cImRiLyR7Z29vZC5pbWd9XCIgYWx0PVwiaW1hZ2U6ICR7Z29vZC5uYW1lfVwiIGNsYXNzPVwiZ29vZHMtaW1hZ2VcIj5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJnb29kcy10aXRsZVwiPiR7Z29vZC5uYW1lfTwvaDM+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJnb29kcy1kZXNjcmlwdGlvblwiPiR7Z29vZC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBnb29kcy1jYXJkLWJ0biBhZGQtdG8tY2FydFwiIGRhdGEtaWQ9XCIke1xyXG4gICAgICAgICAgICAgICAgZ29vZC5pZFxyXG4gICAgICAgICAgICAgIH1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnV0dG9uLXByaWNlXCI+JCR7Z29vZC5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cdFx0XHRgO1xyXG5cclxuICAgICAgZ29vZHNDb250YWluZXIuYXBwZW5kKGdvb2RCbG9jayk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LBcclxuICBjb25zdCBnZXREYXRhID0gZnVuY3Rpb24gKHZhbHVlLCBjYXRlZ29yeSkge1xyXG4gICAgZmV0Y2goXCIvZGIvZGIuanNvblwiKVxyXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vINCk0LjQu9GM0YLRgCDQtNCw0L3QvdGL0YVcclxuICAgICAgICBjb25zdCBhcmF5ID0gY2F0ZWdvcnlcclxuICAgICAgICAgID8gZGF0YS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW1bY2F0ZWdvcnldID09PSB2YWx1ZSlcclxuICAgICAgICAgIDogZGF0YTtcclxuXHJcbiAgICAgICAgLy8g0JLQvtC+0LfQstGA0LDRidCw0LXQvCDQsdCw0LfRg1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ29vZHNcIiwgSlNPTi5zdHJpbmdpZnkoYXJheSkpO1xyXG5cclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9nb29kcy5odG1sXCIpIHtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvZ29vZHMuaHRtbFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZW5kZXJHb29kcyhhcmF5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vIEPQvtGF0YDQsNC90LXQvCDQsdCw0LfRgyDQsiBMb2NhbFN0b3JhZ2VcclxuICBsaW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQ7XHJcbiAgICAgIGNvbnN0IGxpbmtWYWx1ZSA9IGl0ZW0udGV4dENvbnRlbnQ7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gaXRlbS5kYXRhc2V0LmZpZWxkO1xyXG5cclxuICAgICAgZ2V0RGF0YShsaW5rVmFsdWUsIGNhdGVnb3J5KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L3QsNC70LjRh9C40LUg0LTQsNC90L3Ri9GFXHJcbiAgaWYgKFxyXG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnb29kc1wiKSAmJlxyXG4gICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSBcIi9nb29kcy5odG1sXCJcclxuICApIHtcclxuICAgIHJlbmRlckdvb2RzKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnb29kc1wiKSkpO1xyXG4gIH1cclxuXHJcbiAgLy8g0KTRg9C90LrRhtC40Y8g0LrQvdC+0L/QutC4INCx0L7Qu9GM0YjQtVxyXG4gIGlmICh2aWV3TW9yZSkge1xyXG4gICAgdmlld01vcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdDtcclxuXHJcbiAgICAgIGdldERhdGEoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0IHsgc2VhcmNoIH0gZnJvbSBcIi4vbW9kdWxlcy9zZWFyY2hcIjtcclxuaW1wb3J0IHsgY2FydCB9IGZyb20gXCIuL21vZHVsZXMvY2FydFwiO1xyXG5pbXBvcnQgeyBnZXRHb29kcyB9IGZyb20gXCIuL21vZHVsZXMvZ2VldEdvb2RzXCI7XHJcblxyXG5zZWFyY2goKTtcclxuY2FydCgpO1xyXG5nZXRHb29kcygpO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///417\n')}},__webpack_exports__={};__webpack_modules__[417]()})();